(self.webpackChunk=self.webpackChunk||[]).push([[6503],{9399:function(ce,A,e){"use strict";e.d(A,{m:function(){return ae.m}});var ae=e(34890),M=e(85092)},27526:function(ce,A,e){"use strict";e.r(A),e.d(A,{default:function(){return Q}});var ae=e(5154),M=e(60856),$=e(78164),r=e(76497),D=e(69772),m=e(90272),h=e(59797),B=e(85809),S=e(50817),i=e(65230),_=e(18158),f=e(52708),u=e(97037),N=e(65892),P=e(87067),d=e(46912),v=e(50372),Z=e(70307),_e=e(11347),y=e(66722),O=e(12924),l=e.n(O),me=e(47065),w=e(70079),U=e(93196),G=e(18936),C=e(36651),n=e(90388),ne=e(34048),b=e(51165),ie=e(63011),I=e(30827),R=e(58997),j=e(62353),le=e(1138),V=e(44698),J=(0,V.Z)({scriptUrl:["//at.alicdn.com/t/font_3354854_pk18p04ny1a.js"]}),Y=J,W=y.Z.Text,z=[{key:"log",tab:"\u65E5\u5FD7"},{key:"script",tab:"\u811A\u672C"}],H=navigator.language||navigator.languages[0],L=F=>{var T,q,ee,de=F.cron,k=de===void 0?{}:de,re=F.handleCancel,X=F.visible,je=F.theme,ge=F.isPhone,Je=(0,O.useState)("log"),Le=(0,Z.Z)(Je,2),K=Le[0],Re=Le[1],Ce=(0,O.useState)(!0),he=(0,Z.Z)(Ce,2),qe=he[0],E=he[1],et=(0,O.useState)([]),ve=(0,Z.Z)(et,2),tt=ve[0],at=ve[1],nt=(0,O.useState)(""),Oe=(0,Z.Z)(nt,2),te=Oe[0],ue=Oe[1],lt=(0,O.useState)(""),Ae=(0,Z.Z)(lt,2),be=Ae[0],Be=Ae[1],rt=(0,O.useState)(!1),Fe=(0,Z.Z)(rt,2),st=Fe[0],Me=Fe[1],Se=(0,O.useRef)(null),We=(0,O.useState)({}),xe=(0,Z.Z)(We,2),Ze=xe[0],ot=xe[1],Ue=(0,O.useState)(""),Ke=(0,Z.Z)(Ue,2),we=Ke[0],it=Ke[1],Ve=(0,O.useState)(z),Te=(0,Z.Z)(Ve,2),Ie=Te[0],ke=Te[1],Ne=(0,O.useState)({}),ze=(0,Z.Z)(Ne,2),s=ze[0],fe=ze[1],He={log:l().createElement(v.ZP,{dataSource:tt,loading:qe,renderItem:c=>l().createElement(v.ZP.Item,{className:"log-item",onClick:()=>Pe(c)},l().createElement(me.Z,{style:{marginRight:10}}),c.directory,"/",c.filename)}),script:l().createElement(le.ZP,{language:"shell",theme:je,value:be,options:{fontSize:12,lineNumbersMinChars:3,fontFamily:"Source Code Pro",folding:!1,glyphMargin:!1,wordWrap:"on"},onMount:c=>{Se.current=c}})},Pe=c=>{localStorage.setItem("logCron",s.id),it("".concat(R.Z.apiPrefix,"logs/").concat(c.directory,"/").concat(c.filename)),I.W.get("".concat(R.Z.apiPrefix,"logs/").concat(c.directory,"/").concat(c.filename)).then(Ee=>{ue(Ee.data),Me(!0)})},ut=c=>{Re(c)},Xe=()=>{E(!0),I.W.get("".concat(R.Z.apiPrefix,"crons/").concat(k.id,"/logs")).then(c=>{c.code===200&&at(c.data)}).finally(()=>E(!1))},$e=()=>{var c=k.command.split(" ");if(c[0]==="task"){ke(Ie),c[1].startsWith("/ql/data/scripts")&&(c[1]=c[1].replace("/ql/data/scripts/",""));var Ee=c[1].split("/"),pe=(0,Z.Z)(Ee,2),oe=pe[0],De=pe[1];De||(De=oe,oe=""),ot({parent:oe,filename:De}),I.W.get("".concat(R.Z.apiPrefix,"scripts/").concat(De,"?path=").concat(oe||"")).then(mt=>{Be(mt.data)})}else ke([Ie[0]])},se=()=>{P.Z.confirm({title:"\u786E\u8BA4\u4FDD\u5B58",content:l().createElement(l().Fragment,null,"\u786E\u8BA4\u4FDD\u5B58\u6587\u4EF6",l().createElement(W,{style:{wordBreak:"break-all"},type:"warning"},Ze.filename)," ","\uFF0C\u4FDD\u5B58\u540E\u4E0D\u53EF\u6062\u590D"),onOk(){var c=Se.current?Se.current.getValue().replace(/\r\n/g,`
`):be;return new Promise((Ee,pe)=>{I.W.put("".concat(R.Z.apiPrefix,"scripts"),{data:{filename:Ze.filename,path:Ze.parent||"",content:c}}).then(oe=>{oe.code===200?(Be(c),u.ZP.success("\u4FDD\u5B58\u6210\u529F")):u.ZP.error(oe),Ee(null)}).catch(oe=>pe(oe))})},onCancel(){console.log("Cancel")}})},Ge=()=>{P.Z.confirm({title:"\u786E\u8BA4\u8FD0\u884C",content:l().createElement(l().Fragment,null,"\u786E\u8BA4\u8FD0\u884C\u5B9A\u65F6\u4EFB\u52A1"," ",l().createElement(W,{style:{wordBreak:"break-all"},type:"warning"},s.name)," ","\u5417"),onOk(){I.W.put("".concat(R.Z.apiPrefix,"crons/run"),{data:[s.id]}).then(c=>{c.code===200?(fe((0,_.Z)((0,_.Z)({},s),{},{status:b.CrontabStatus.running})),setTimeout(()=>{Xe()},1e3)):u.ZP.error(c)})},onCancel(){console.log("Cancel")}})},dt=()=>{P.Z.confirm({title:"\u786E\u8BA4\u505C\u6B62",content:l().createElement(l().Fragment,null,"\u786E\u8BA4\u505C\u6B62\u5B9A\u65F6\u4EFB\u52A1"," ",l().createElement(W,{style:{wordBreak:"break-all"},type:"warning"},s.name)," ","\u5417"),onOk(){I.W.put("".concat(R.Z.apiPrefix,"crons/stop"),{data:[s.id]}).then(c=>{c.code===200?fe((0,_.Z)((0,_.Z)({},s),{},{status:b.CrontabStatus.idle})):u.ZP.error(c)})},onCancel(){console.log("Cancel")}})},Ye=()=>{P.Z.confirm({title:"\u786E\u8BA4".concat(s.isDisabled===1?"\u542F\u7528":"\u7981\u7528"),content:l().createElement(l().Fragment,null,"\u786E\u8BA4",s.isDisabled===1?"\u542F\u7528":"\u7981\u7528","\u5B9A\u65F6\u4EFB\u52A1"," ",l().createElement(W,{style:{wordBreak:"break-all"},type:"warning"},s.name)," ","\u5417"),onOk(){I.W.put("".concat(R.Z.apiPrefix,"crons/").concat(s.isDisabled===1?"enable":"disable"),{data:[s.id]}).then(c=>{c.code===200?fe((0,_.Z)((0,_.Z)({},s),{},{isDisabled:s.isDisabled===1?0:1})):u.ZP.error(c)})},onCancel(){console.log("Cancel")}})},ct=()=>{P.Z.confirm({title:"\u786E\u8BA4".concat(s.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876"),content:l().createElement(l().Fragment,null,"\u786E\u8BA4",s.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876","\u5B9A\u65F6\u4EFB\u52A1"," ",l().createElement(W,{style:{wordBreak:"break-all"},type:"warning"},s.name)," ","\u5417"),onOk(){I.W.put("".concat(R.Z.apiPrefix,"crons/").concat(s.isPinned===1?"unpin":"pin"),{data:[s.id]}).then(c=>{c.code===200?fe((0,_.Z)((0,_.Z)({},s),{},{isPinned:s.isPinned===1?0:1})):u.ZP.error(c)})},onCancel(){console.log("Cancel")}})};return(0,O.useEffect)(()=>{k&&k.id&&(fe(k),Xe(),$e())},[k]),l().createElement(P.Z,{title:l().createElement("div",{className:"crontab-title-wrapper"},l().createElement("div",null,l().createElement("span",null,s.name),((T=s.labels)===null||T===void 0?void 0:T.length)>0&&s.labels[0]!==""&&l().createElement(i.Z,{type:"vertical"}),((q=s.labels)===null||q===void 0?void 0:q.length)>0&&s.labels[0]!==""&&((ee=s.labels)===null||ee===void 0?void 0:ee.map((c,Ee)=>l().createElement(B.Z,{color:"blue",style:{marginRight:5}},c)))),l().createElement("div",{className:"operations"},l().createElement(r.Z,{title:s.status===b.CrontabStatus.idle?"\u8FD0\u884C":"\u505C\u6B62"},l().createElement(m.Z,{type:"link",icon:s.status===b.CrontabStatus.idle?l().createElement(w.Z,null):l().createElement(U.Z,null),size:"small",onClick:s.status===b.CrontabStatus.idle?Ge:dt})),l().createElement(r.Z,{title:s.isDisabled===1?"\u542F\u7528":"\u7981\u7528"},l().createElement(m.Z,{type:"link",icon:l().createElement(Y,{type:s.isDisabled===1?"ql-icon-qiyong":"ql-icon-jinyong"}),size:"small",onClick:Ye})),l().createElement(r.Z,{title:s.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876"},l().createElement(m.Z,{type:"link",icon:l().createElement(Y,{type:s.isPinned===1?"ql-icon-quxiaozhiding":"ql-icon-zhiding"}),size:"small",onClick:ct})))),centered:!0,visible:X,forceRender:!0,footer:!1,onCancel:()=>re(),wrapClassName:"crontab-detail",width:ge?"":"80vw"},l().createElement("div",{className:"card-wrapper"},l().createElement(M.Z,null,l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u4EFB\u52A1"),l().createElement("div",{className:"cron-detail-info-value"},s.command))),l().createElement(M.Z,{style:{marginTop:10}},l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u72B6\u6001"),l().createElement("div",{className:"cron-detail-info-value"},(!s.isDisabled||s.status!==b.CrontabStatus.idle)&&l().createElement(l().Fragment,null,s.status===b.CrontabStatus.idle&&l().createElement(B.Z,{icon:l().createElement(G.Z,null),color:"default"},"\u7A7A\u95F2\u4E2D"),s.status===b.CrontabStatus.running&&l().createElement(B.Z,{icon:l().createElement(C.Z,{spin:!0}),color:"processing"},"\u8FD0\u884C\u4E2D"),s.status===b.CrontabStatus.queued&&l().createElement(B.Z,{icon:l().createElement(n.Z,null),color:"default"},"\u961F\u5217\u4E2D")),s.isDisabled===1&&s.status===b.CrontabStatus.idle&&l().createElement(B.Z,{icon:l().createElement(ne.Z,null),color:"error"},"\u5DF2\u7981\u7528"))),l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u5B9A\u65F6"),l().createElement("div",{className:"cron-detail-info-value"},s.schedule)),l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u6700\u540E\u8FD0\u884C\u65F6\u95F4"),l().createElement("div",{className:"cron-detail-info-value"},s.last_execution_time?new Date(s.last_execution_time*1e3).toLocaleString(H,{hour12:!1}).replace(" 24:"," 00:"):"-")),l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u6700\u540E\u8FD0\u884C\u65F6\u957F"),l().createElement("div",{className:"cron-detail-info-value"},s.last_running_time?(0,ie.E)(s.last_running_time):"-")),l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u4E0B\u6B21\u8FD0\u884C\u65F6\u95F4"),l().createElement("div",{className:"cron-detail-info-value"},s.nextRunTime&&s.nextRunTime.toLocaleString(H,{hour12:!1}).replace(" 24:"," 00:")))),l().createElement(M.Z,{style:{marginTop:10},tabList:Ie,activeTabKey:K,onTabChange:c=>{ut(c)},tabBarExtraContent:K==="script"&&l().createElement(m.Z,{type:"primary",style:{marginRight:8},onClick:se},"\u4FDD\u5B58")},He[K])),l().createElement(j.default,{visible:st,handleCancel:()=>{Me(!1)},cron:k,data:te,logUrl:we}))},Q=L},51165:function(ce,A,e){"use strict";e.r(A),e.d(A,{CrontabStatus:function(){return K}});var ae=e(69772),M=e(90272),$=e(6674),r=e(89734),D=e(8092),m=e(78042),h=e(51458),B=e(1628),S=e(52708),i=e(97037),_=e(65892),f=e(87067),u=e(70307),N=e(19474),P=e(67081),d=e(18158),v=e(78164),Z=e(76497),_e=e(3902),y=e(89),O=e(59797),l=e(85809),me=e(60903),w=e(22101),U=e(11347),G=e(66722),C=e(12924),n=e.n(C),ne=e(66434),b=e(18936),ie=e(36651),I=e(90388),R=e(34048),j=e(70079),le=e(93196),V=e(11611),J=e(7753),Y=e(66587),W=e(62060),z=e(98143),H=e(3980),L=e(58997),Q=e(27818),F=e(30827),T=e(3086),q=e(62353),ee=e(27526),de=e(82517),k=e.n(de),re=e(63011),X=e(21630),je=e(9399),ge=G.Z.Text,Je=G.Z.Paragraph,Le=w.Z.Search,K;(function(E){E[E.running=0]="running",E[E.idle=1]="idle",E[E.disabled=2]="disabled",E[E.queued=3]="queued"})(K||(K={}));var Re={0:0,5:1,3:2,1:3,4:4},Ce;(function(E){E[E.\u542F\u7528=0]="\u542F\u7528",E[E.\u7981\u7528=1]="\u7981\u7528",E[E.\u8FD0\u884C=2]="\u8FD0\u884C",E[E.\u505C\u6B62=3]="\u505C\u6B62",E[E.\u7F6E\u9876=4]="\u7F6E\u9876",E[E.\u53D6\u6D88\u7F6E\u9876=5]="\u53D6\u6D88\u7F6E\u9876"})(Ce||(Ce={}));var he;(function(E){E[E.enable=0]="enable",E[E.disable=1]="disable",E[E.run=2]="run",E[E.stop=3]="stop",E[E.pin=4]="pin",E[E.unpin=5]="unpin"})(he||(he={}));var qe=E=>{var et=E.headerStyle,ve=E.isPhone,tt=E.theme,at=[{title:"\u4EFB\u52A1\u540D",dataIndex:"name",key:"name",width:150,align:"center",render:(t,a)=>{var o,g;return n().createElement(n().Fragment,null,n().createElement("a",{onClick:()=>{bt(a)}},((o=a.labels)===null||o===void 0?void 0:o.length)>0&&a.labels[0]!==""?n().createElement(y.Z,{placement:"right",trigger:ve?"click":"hover",content:n().createElement("div",null,(g=a.labels)===null||g===void 0?void 0:g.map(p=>n().createElement(l.Z,{color:"blue",style:{cursor:"point"},onClick:x=>{x.stopPropagation(),Dt("label:".concat(p))}},n().createElement("a",null,p))))},a.name||"-"):a.name||"-",a.isPinned?n().createElement("span",null,n().createElement(ne.Z,null)):""))},sorter:{compare:(t,a)=>t.name.localeCompare(a.name),multiple:2}},{title:"\u4EFB\u52A1",dataIndex:"command",key:"command",width:250,align:"center",render:(t,a)=>n().createElement(Je,{style:{wordBreak:"break-all",marginBottom:0,textAlign:"left"},ellipsis:{tooltip:t,rows:2}},t),sorter:{compare:(t,a)=>t.command.localeCompare(a.command),multiple:3}},{title:"\u4EFB\u52A1\u5B9A\u65F6",dataIndex:"schedule",key:"schedule",width:110,align:"center",sorter:{compare:(t,a)=>t.schedule.localeCompare(a.schedule),multiple:1}},{title:"\u6700\u540E\u8FD0\u884C\u65F6\u95F4",align:"center",width:150,sorter:{compare:(t,a)=>t.last_execution_time-a.last_execution_time},render:(t,a)=>{var o=navigator.language||navigator.languages[0];return n().createElement("span",{style:{display:"block"}},a.last_execution_time?new Date(a.last_execution_time*1e3).toLocaleString(o,{hour12:!1}).replace(" 24:"," 00:"):"-")}},{title:"\u6700\u540E\u8FD0\u884C\u65F6\u957F",align:"center",width:120,sorter:{compare:(t,a)=>t.last_running_time-a.last_running_time},render:(t,a)=>{var o=navigator.language||navigator.languages[0];return n().createElement("span",{style:{display:"block"}},a.last_running_time?(0,re.E)(a.last_running_time):"-")}},{title:"\u4E0B\u6B21\u8FD0\u884C\u65F6\u95F4",align:"center",width:150,sorter:{compare:(t,a)=>t.nextRunTime-a.nextRunTime},render:(t,a)=>{var o=navigator.language||navigator.languages[0];return n().createElement("span",{style:{display:"block"}},a.nextRunTime.toLocaleString(o,{hour12:!1}).replace(" 24:"," 00:"))}},{title:"\u72B6\u6001",key:"status",dataIndex:"status",align:"center",width:85,filters:[{text:"\u8FD0\u884C\u4E2D",value:0},{text:"\u7A7A\u95F2\u4E2D",value:1},{text:"\u5DF2\u7981\u7528",value:2},{text:"\u961F\u5217\u4E2D",value:3}],onFilter:(t,a)=>a.isDisabled&&a.status!==0?t===2:a.status===t,render:(t,a)=>n().createElement(n().Fragment,null,(!a.isDisabled||a.status!==K.idle)&&n().createElement(n().Fragment,null,a.status===K.idle&&n().createElement(l.Z,{icon:n().createElement(b.Z,null),color:"default"},"\u7A7A\u95F2\u4E2D"),a.status===K.running&&n().createElement(l.Z,{icon:n().createElement(ie.Z,{spin:!0}),color:"processing"},"\u8FD0\u884C\u4E2D"),a.status===K.queued&&n().createElement(l.Z,{icon:n().createElement(I.Z,null),color:"default"},"\u961F\u5217\u4E2D")),a.isDisabled===1&&a.status===K.idle&&n().createElement(l.Z,{icon:n().createElement(R.Z,null),color:"error"},"\u5DF2\u7981\u7528"))},{title:"\u64CD\u4F5C",key:"action",align:"center",width:100,render:(t,a,o)=>{var g=!ve;return n().createElement(P.Z,{size:"middle"},a.status===K.idle&&n().createElement(Z.Z,{title:g?"\u8FD0\u884C":""},n().createElement("a",{onClick:p=>{p.stopPropagation(),It(a,o)}},n().createElement(j.Z,null))),a.status!==K.idle&&n().createElement(Z.Z,{title:g?"\u505C\u6B62":""},n().createElement("a",{onClick:p=>{p.stopPropagation(),Lt(a,o)}},n().createElement(le.Z,null))),n().createElement(Z.Z,{title:g?"\u65E5\u5FD7":""},n().createElement("a",{onClick:p=>{p.stopPropagation(),ut((0,d.Z)((0,d.Z)({},a),{},{timestamp:Date.now()}))}},n().createElement(V.Z,null))),n().createElement(xt,{key:"more",record:a,index:o}))}}],nt=(0,C.useState)([]),Oe=(0,u.Z)(nt,2),te=Oe[0],ue=Oe[1],lt=(0,C.useState)(!0),Ae=(0,u.Z)(lt,2),be=Ae[0],Be=Ae[1],rt=(0,C.useState)(!1),Fe=(0,u.Z)(rt,2),st=Fe[0],Me=Fe[1],Se=(0,C.useState)(!1),We=(0,u.Z)(Se,2),xe=We[0],Ze=We[1],ot=(0,C.useState)(),Ue=(0,u.Z)(ot,2),Ke=Ue[0],we=Ue[1],it=(0,C.useState)(""),Ve=(0,u.Z)(it,2),Te=Ve[0],Ie=Ve[1],ke=(0,C.useState)(!1),Ne=(0,u.Z)(ke,2),ze=Ne[0],s=Ne[1],fe=(0,C.useState)(),He=(0,u.Z)(fe,2),Pe=He[0],ut=He[1],Xe=(0,C.useState)([]),$e=(0,u.Z)(Xe,2),se=$e[0],Ge=$e[1],dt=(0,C.useState)(1),Ye=(0,u.Z)(dt,2),ct=Ye[0],c=Ye[1],Ee=(0,C.useState)(20),pe=(0,u.Z)(Ee,2),oe=pe[0],De=pe[1],mt=(0,C.useState)(),_t=(0,u.Z)(mt,2),Ct=_t[0],gt=_t[1],ht=(0,C.useState)(!1),vt=(0,u.Z)(ht,2),Bt=vt[0],ft=vt[1],Mt=(0,C.useState)(),Pt=(0,u.Z)(Mt,2),Zt=Pt[0],yt=Pt[1],Ot=(0,C.useState)(""),pt=(0,u.Z)(Ot,2),At=pt[0],Dt=pt[1],bt=t=>{var a=t.command.split(" ");if(a[0]==="task"){a[1].startsWith("/ql/data/scripts")&&(a[1]=a[1].replace("/ql/data/scripts/",""));var o=a[1].split("/"),g=(0,u.Z)(o,2),p=g[0],x=g[1];x||(x=p,p=""),je.m.push("/script?p=".concat(p,"&s=").concat(x))}else a[1]==="repo"&&(location.href=a[2])},Qe=()=>{Be(!0),F.W.get("".concat(L.Z.apiPrefix,"crons?searchValue=").concat(Te)).then(t=>{ue(t.data.sort((a,o)=>{var g=a.isPinned&&a.status!==0?5:a.isDisabled&&a.status!==0?4:a.status,p=o.isPinned&&o.status!==0?5:o.isDisabled&&o.status!==0?4:o.status;return Re[g]-Re[p]}).map(a=>(0,d.Z)((0,d.Z)({},a),{},{nextRunTime:k().parseExpression(a.schedule).next().toDate()}))),c(1)}).finally(()=>Be(!1))},Ft=()=>{we(null),Me(!0)},St=(t,a)=>{we(t),Me(!0)},Tt=(t,a)=>{f.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:n().createElement(n().Fragment,null,"\u786E\u8BA4\u5220\u9664\u5B9A\u65F6\u4EFB\u52A1"," ",n().createElement(ge,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){F.W.delete("".concat(L.Z.apiPrefix,"crons"),{data:[t.id]}).then(o=>{if(o.code===200){i.ZP.success("\u5220\u9664\u6210\u529F");var g=[...te],p=g.findIndex(x=>x.id===t.id);g.splice(p,1),ue(g)}else i.ZP.error(o)})},onCancel(){console.log("Cancel")}})},It=(t,a)=>{f.Z.confirm({title:"\u786E\u8BA4\u8FD0\u884C",content:n().createElement(n().Fragment,null,"\u786E\u8BA4\u8FD0\u884C\u5B9A\u65F6\u4EFB\u52A1"," ",n().createElement(ge,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){F.W.put("".concat(L.Z.apiPrefix,"crons/run"),{data:[t.id]}).then(o=>{if(o.code===200){var g=[...te],p=g.findIndex(x=>x.id===t.id);g.splice(p,1,(0,d.Z)((0,d.Z)({},t),{},{status:K.running})),ue(g)}else i.ZP.error(o)})},onCancel(){console.log("Cancel")}})},Lt=(t,a)=>{f.Z.confirm({title:"\u786E\u8BA4\u505C\u6B62",content:n().createElement(n().Fragment,null,"\u786E\u8BA4\u505C\u6B62\u5B9A\u65F6\u4EFB\u52A1"," ",n().createElement(ge,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){F.W.put("".concat(L.Z.apiPrefix,"crons/stop"),{data:[t.id]}).then(o=>{if(o.code===200){var g=[...te],p=g.findIndex(x=>x.id===t.id);g.splice(p,1,(0,d.Z)((0,d.Z)({},t),{},{pid:null,status:K.idle})),ue(g)}else i.ZP.error(o)})},onCancel(){console.log("Cancel")}})},Rt=(t,a)=>{f.Z.confirm({title:"\u786E\u8BA4".concat(t.isDisabled===1?"\u542F\u7528":"\u7981\u7528"),content:n().createElement(n().Fragment,null,"\u786E\u8BA4",t.isDisabled===1?"\u542F\u7528":"\u7981\u7528","\u5B9A\u65F6\u4EFB\u52A1"," ",n().createElement(ge,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){F.W.put("".concat(L.Z.apiPrefix,"crons/").concat(t.isDisabled===1?"enable":"disable"),{data:[t.id]}).then(o=>{if(o.code===200){var g=t.isDisabled===1?0:1,p=[...te],x=p.findIndex(Et=>Et.id===t.id);p.splice(x,1,(0,d.Z)((0,d.Z)({},t),{},{isDisabled:g})),ue(p)}else i.ZP.error(o)})},onCancel(){console.log("Cancel")}})},Wt=(t,a)=>{f.Z.confirm({title:"\u786E\u8BA4".concat(t.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876"),content:n().createElement(n().Fragment,null,"\u786E\u8BA4",t.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876","\u5B9A\u65F6\u4EFB\u52A1"," ",n().createElement(ge,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){F.W.put("".concat(L.Z.apiPrefix,"crons/").concat(t.isPinned===1?"unpin":"pin"),{data:[t.id]}).then(o=>{if(o.code===200){var g=t.isPinned===1?0:1,p=[...te],x=p.findIndex(Et=>Et.id===t.id);p.splice(x,1,(0,d.Z)((0,d.Z)({},t),{},{isPinned:g})),ue(p)}else i.ZP.error(o)})},onCancel(){console.log("Cancel")}})},xt=t=>{var a=t.record,o=t.index;return n().createElement(m.Z,{arrow:{pointAtCenter:!0},placement:"bottomRight",trigger:["click"],overlay:n().createElement(B.Z,{onClick:g=>{var p=g.key,x=g.domEvent;x.stopPropagation(),Ut(p,a,o)}},n().createElement(B.Z.Item,{key:"edit",icon:n().createElement(J.Z,null)},"\u7F16\u8F91"),n().createElement(B.Z.Item,{key:"enableOrDisable",icon:a.isDisabled===1?n().createElement(Y.Z,null):n().createElement(W.Z,null)},a.isDisabled===1?"\u542F\u7528":"\u7981\u7528"),n().createElement(B.Z.Item,{key:"delete",icon:n().createElement(z.Z,null)},"\u5220\u9664"),n().createElement(B.Z.Item,{key:"pinOrUnPin",icon:a.isPinned===1?n().createElement(W.Z,null):n().createElement(ne.Z,null)},a.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876"))},n().createElement("a",{onClick:g=>g.stopPropagation()},n().createElement(H.Z,null)))},Ut=(t,a,o)=>{switch(t){case"edit":St(a,o);break;case"enableOrDisable":Rt(a,o);break;case"delete":Tt(a,o);break;case"pinOrUnPin":Wt(a,o);break;default:break}},Kt=t=>{Me(!1),t&&Vt(t)},wt=t=>{Ie(t.trim())},Vt=t=>{var a=te.findIndex(g=>g.id===t.id),o=[...te];t.nextRunTime=k().parseExpression(t.schedule).next().toDate(),a===-1?o.unshift(t):o.splice(a,1,(0,d.Z)({},t)),ue(o)},kt=t=>{F.W.get("".concat(L.Z.apiPrefix,"crons/").concat(t.id)).then(a=>{var o=te.findIndex(p=>p.id===t.id),g=[...te];a.data.nextRunTime=k().parseExpression(a.data.schedule).next().toDate(),g.splice(o,1,(0,d.Z)((0,d.Z)({},t),a.data)),ue(g)}).finally(()=>Be(!1))},Nt=t=>{Ge(t),setTimeout(()=>{(se.length===0||t.length===0)&&gt((0,X.W)())})},zt={selectedRowIds:se,onChange:Nt,selections:[r.Z.SELECTION_ALL,r.Z.SELECTION_INVERT,r.Z.SELECTION_NONE]},Ht=()=>{f.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:n().createElement(n().Fragment,null,"\u786E\u8BA4\u5220\u9664\u9009\u4E2D\u7684\u5B9A\u65F6\u4EFB\u52A1\u5417"),onOk(){F.W.delete("".concat(L.Z.apiPrefix,"crons"),{data:se}).then(t=>{t.code===200?(i.ZP.success("\u6279\u91CF\u5220\u9664\u6210\u529F"),Ge([]),Qe()):i.ZP.error(t)})},onCancel(){console.log("Cancel")}})},ye=t=>{f.Z.confirm({title:"\u786E\u8BA4".concat(Ce[t]),content:n().createElement(n().Fragment,null,"\u786E\u8BA4",Ce[t],"\u9009\u4E2D\u7684\u5B9A\u65F6\u4EFB\u52A1\u5417"),onOk(){F.W.put("".concat(L.Z.apiPrefix,"crons/").concat(he[t]),{data:se}).then(a=>{a.code===200?Qe():i.ZP.error(a)})},onCancel(){console.log("Cancel")}})},Xt=(t,a)=>{c(t),De(a),localStorage.setItem("pageSize",a+"")},$t=(t,a)=>t.isPinned?"pinned-cron cron":"cron";return(0,C.useEffect)(()=>{Pe&&(localStorage.setItem("logCron",Pe.id),s(!0))},[Pe]),(0,C.useEffect)(()=>{Qe()},[Te]),(0,C.useEffect)(()=>{De(parseInt(localStorage.getItem("pageSize")||"20")),setTimeout(()=>{gt((0,X.W)())})},[]),n().createElement(Q.ZP,{className:"ql-container-wrapper crontab-wrapper",title:"\u5B9A\u65F6\u4EFB\u52A1",extra:[n().createElement(Le,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0\u6216\u8005\u5173\u952E\u8BCD",style:{width:"auto"},enterButton:!0,allowClear:!0,loading:be,value:At,onChange:t=>Dt(t.target.value),onSearch:wt}),n().createElement(M.Z,{key:"2",type:"primary",onClick:()=>Ft()},"\u65B0\u5EFA\u4EFB\u52A1")],header:{style:et}},se.length>0&&n().createElement("div",{style:{marginBottom:16}},n().createElement(M.Z,{type:"primary",style:{marginBottom:5},onClick:Ht},"\u6279\u91CF\u5220\u9664"),n().createElement(M.Z,{type:"primary",onClick:()=>ye(0),style:{marginLeft:8,marginBottom:5}},"\u6279\u91CF\u542F\u7528"),n().createElement(M.Z,{type:"primary",onClick:()=>ye(1),style:{marginLeft:8,marginRight:8}},"\u6279\u91CF\u7981\u7528"),n().createElement(M.Z,{type:"primary",style:{marginRight:8},onClick:()=>ye(2)},"\u6279\u91CF\u8FD0\u884C"),n().createElement(M.Z,{type:"primary",onClick:()=>ye(3)},"\u6279\u91CF\u505C\u6B62"),n().createElement(M.Z,{type:"primary",onClick:()=>ye(4),style:{marginLeft:8,marginRight:8}},"\u6279\u91CF\u7F6E\u9876"),n().createElement(M.Z,{type:"primary",onClick:()=>ye(5),style:{marginLeft:8,marginRight:8}},"\u6279\u91CF\u53D6\u6D88\u7F6E\u9876"),n().createElement(M.Z,{type:"primary",onClick:()=>Ze(!0),style:{marginLeft:8,marginRight:8}},"\u6279\u91CF\u4FEE\u6539\u6807\u7B7E"),n().createElement("span",{style:{marginLeft:8}},"\u5DF2\u9009\u62E9",n().createElement("a",null,se==null?void 0:se.length),"\u9879")),n().createElement(r.Z,{columns:at,pagination:{current:ct,onChange:Xt,pageSize:oe,showSizeChanger:!0,simple:ve,defaultPageSize:20,showTotal:(t,a)=>"\u7B2C ".concat(a[0],"-").concat(a[1]," \u6761/\u603B\u5171 ").concat(t," \u6761"),pageSizeOptions:[20,100,500,1e3]},onRow:t=>({onClick:a=>{yt(t),ft(!0)}}),dataSource:te,rowKey:"id",size:"middle",scroll:{x:1e3,y:Ct},loading:be,rowSelection:zt,rowClassName:$t}),n().createElement(q.default,{visible:ze,handleCancel:()=>{kt(Pe),s(!1)},cron:Pe}),n().createElement(T.default,{visible:st,handleCancel:Kt,cron:Ke}),n().createElement(T.CronLabelModal,{visible:xe,handleCancel:t=>{Ze(!1),t&&Qe()},ids:se}),n().createElement(ee.default,{visible:Bt,handleCancel:()=>{ft(!1)},cron:Zt,theme:tt,isPhone:ve}))};A.default=qe},62353:function(ce,A,e){"use strict";e.r(A);var ae=e(65892),M=e(87067),$=e(69772),r=e(90272),D=e(52708),m=e(97037),h=e(70307),B=e(78015),S=e(57636),i=e(12924),_=e.n(i),f=e(30827),u=e(58997),N=e(36651),P=e(66587),d=e(81455),v;(function(y){y[y.running=0]="running",y[y.idle=1]="idle",y[y.disabled=2]="disabled",y[y.queued=3]="queued"})(v||(v={}));var Z=S.Z.Countdown,_e=y=>{var O=y.cron,l=y.handleCancel,me=y.visible,w=y.data,U=y.logUrl,G=(0,i.useState)("\u542F\u52A8\u4E2D..."),C=(0,h.Z)(G,2),n=C[0],ne=C[1],b=(0,i.useState)(!0),ie=(0,h.Z)(b,2),I=ie[0],R=ie[1],j=(0,i.useState)(!0),le=(0,h.Z)(j,2),V=le[0],J=le[1],Y=(0,i.useState)(!1),W=(0,h.Z)(Y,2),z=W[0],H=W[1],L=(0,i.useState)(""),Q=(0,h.Z)(L,2),F=Q[0],T=Q[1],q=k=>{k&&R(!0),f.W.get(U||"".concat(u.Z.apiPrefix,"crons/").concat(O.id,"/log")).then(re=>{if(localStorage.getItem("logCron")===String(O.id)){var X=re.data;ne(X||"\u6682\u65E0\u65E5\u5FD7"),J(X&&!X.includes("\u6267\u884C\u7ED3\u675F")&&!X.includes("\u91CD\u542F\u9762\u677F")),X&&!X.includes("\u6267\u884C\u7ED3\u675F")&&!X.includes("\u91CD\u542F\u9762\u677F")&&setTimeout(()=>{q()},2e3),X&&X.includes("\u91CD\u542F\u9762\u677F")&&O.status===v.running&&(m.ZP.warning({content:_().createElement("span",null,"\u7CFB\u7EDF\u5C06\u5728",_().createElement(Z,{className:"inline-countdown",format:"ss",value:Date.now()+1e3*30}),"\u79D2\u540E\u81EA\u52A8\u5237\u65B0"),duration:10}),setTimeout(()=>{window.location.reload()},3e4))}}).finally(()=>{k&&R(!1)})},ee=()=>{localStorage.removeItem("logCron"),l()},de=()=>_().createElement(_().Fragment,null,(V||I)&&_().createElement(N.Z,{spin:!0}),!V&&!I&&_().createElement(P.Z,null),_().createElement("span",{style:{marginLeft:5}},"\u65E5\u5FD7-",O&&O.name)," ");return(0,i.useEffect)(()=>{O&&O.id&&me&&q(!0)},[O,me]),(0,i.useEffect)(()=>{w&&ne(w)},[w]),(0,i.useEffect)(()=>{H(document.body.clientWidth<768)},[]),_().createElement(M.Z,{title:de(),visible:me,centered:!0,className:"log-modal",bodyStyle:{overflowY:"auto",maxHeight:"calc(80vh - var(--vh-offset, 0px))",minHeight:"300px"},forceRender:!0,onOk:()=>ee(),onCancel:()=>ee(),footer:[_().createElement(r.Z,{type:"primary",onClick:()=>ee()},"\u77E5\u9053\u4E86")]},I?_().createElement(d.Z,null):_().createElement("pre",{style:z?{fontFamily:"Source Code Pro",width:375,zoom:.83}:{}},n))};A.default=_e},3086:function(ce,A,e){"use strict";e.r(A),e.d(A,{default:function(){return l},CronLabelModal:function(){return me}});var ae=e(69772),M=e(90272),$=e(65892),r=e(87067),D=e(60903),m=e(22101),h=e(52708),B=e(97037),S=e(18158),i=e(30606),_=e(5396),f=e(28422),u=e(70307),N=e(22205),P=e.n(N),d=e(12924),v=e.n(d),Z=e(30827),_e=e(58997),y=e(82517),O=e.n(y),l=w=>{var U=w.cron,G=w.handleCancel,C=w.visible,n=f.Z.useForm(),ne=(0,u.Z)(n,1),b=ne[0],ie=(0,d.useState)(!1),I=(0,u.Z)(ie,2),R=I[0],j=I[1],le=function(){var V=(0,i.Z)(P().mark(function J(Y){var W,z,H,L,Q;return P().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return j(!0),W=U?"put":"post",z=(0,S.Z)({},Y),typeof z.labels=="string"?z.labels=Y.labels.split(/,|，/):z.labels||(z.labels=[]),U&&(z.id=U.id),T.prev=5,T.next=8,Z.W[W]("".concat(_e.Z.apiPrefix,"crons"),{data:z});case 8:H=T.sent,L=H.code,Q=H.data,L===200?B.ZP.success(U?"\u66F4\u65B0Cron\u6210\u529F":"\u65B0\u5EFACron\u6210\u529F"):B.ZP.error(Q),j(!1),G(Q),T.next=19;break;case 16:T.prev=16,T.t0=T.catch(5),j(!1);case 19:case"end":return T.stop()}},J,null,[[5,16]])}));return function(Y){return V.apply(this,arguments)}}();return(0,d.useEffect)(()=>{b.resetFields()},[U,C]),v().createElement(r.Z,{title:U?"\u7F16\u8F91\u4EFB\u52A1":"\u65B0\u5EFA\u4EFB\u52A1",visible:C,forceRender:!0,onOk:()=>{b.validateFields().then(V=>{le(V)}).catch(V=>{console.log("Validate Failed:",V)})},onCancel:()=>G(),confirmLoading:R},v().createElement(f.Z,{form:b,layout:"vertical",name:"form_in_modal",initialValues:U},v().createElement(f.Z.Item,{name:"name",label:"\u540D\u79F0"},v().createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0"})),v().createElement(f.Z.Item,{name:"command",label:"\u547D\u4EE4",rules:[{required:!0,whitespace:!0}]},v().createElement(m.Z.TextArea,{rows:4,autoSize:!0,placeholder:"\u8BF7\u8F93\u5165\u8981\u6267\u884C\u7684\u547D\u4EE4"})),v().createElement(f.Z.Item,{name:"schedule",label:"\u5B9A\u65F6\u89C4\u5219",rules:[{required:!0},{validator:(V,J)=>O().parseExpression(J).hasNext()?Promise.resolve():Promise.reject("Cron\u8868\u8FBE\u5F0F\u683C\u5F0F\u6709\u8BEF")}]},v().createElement(m.Z,{placeholder:"\u79D2(\u53EF\u9009) \u5206 \u65F6 \u5929 \u6708 \u5468"})),v().createElement(f.Z.Item,{name:"labels",label:"\u6807\u7B7E"},v().createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u6807\u7B7E"}))))},me=w=>{var U=w.ids,G=w.handleCancel,C=w.visible,n=f.Z.useForm(),ne=(0,u.Z)(n,1),b=ne[0],ie=(0,d.useState)(!1),I=(0,u.Z)(ie,2),R=I[0],j=I[1],le=function(){var J=(0,i.Z)(P().mark(function Y(W){return P().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:b.validateFields().then(function(){var L=(0,i.Z)(P().mark(function Q(F){var T,q,ee,de;return P().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return typeof F.labels=="string"&&(F.labels=F.labels.split(/,|，/)),j(!0),T={ids:U,labels:F.labels},re.next=5,Z.W[W]("".concat(_e.Z.apiPrefix,"crons/labels"),{data:T});case 5:q=re.sent,ee=q.code,de=q.data,ee===200?B.ZP.success(W==="post"?"\u6DFB\u52A0Labels\u6210\u529F":"\u5220\u9664Labels\u6210\u529F"):B.ZP.error(de),j(!1),G(!0);case 11:case"end":return re.stop()}},Q)}));return function(Q){return L.apply(this,arguments)}}()).catch(L=>{console.log("Validate Failed:",L)});case 1:case"end":return H.stop()}},Y)}));return function(W){return J.apply(this,arguments)}}();(0,d.useEffect)(()=>{b.resetFields()},[U,C]);var V=[v().createElement(M.Z,{onClick:()=>G(!1)},"\u53D6\u6D88"),v().createElement(M.Z,{type:"primary",danger:!0,onClick:()=>le("delete")},"\u5220\u9664"),v().createElement(M.Z,{type:"primary",onClick:()=>le("post")},"\u6DFB\u52A0")];return v().createElement(r.Z,{title:"\u6279\u91CF\u4FEE\u6539\u6807\u7B7E",visible:C,footer:V,forceRender:!0,onCancel:()=>G(!1),confirmLoading:R},v().createElement(f.Z,{form:b,layout:"vertical",name:"form_in_label_modal"},v().createElement(f.Z.Item,{name:"labels",label:"\u6807\u7B7E"},v().createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u6807\u7B7E"}))))}},58997:function(ce,A){"use strict";A.Z={siteName:"\u9752\u9F99\u63A7\u5236\u9762\u677F",apiPrefix:"/api/",authKey:"token",layouts:[{name:"primary",include:[/.*/],exclude:[/(\/(en|zh))*\/login/]}],i18n:{languages:[{key:"pt-br",title:"Portugu\xEAs",flag:"/portugal.svg"},{key:"en",title:"English",flag:"/america.svg"},{key:"zh",title:"\u4E2D\u6587",flag:"/china.svg"}],defaultLanguage:"en"},scopes:[{name:"\u5B9A\u65F6\u4EFB\u52A1",value:"crons"},{name:"\u73AF\u5883\u53D8\u91CF",value:"envs"},{name:"\u914D\u7F6E\u6587\u4EF6",value:"configs"},{name:"\u811A\u672C\u7BA1\u7406",value:"scripts"},{name:"\u4EFB\u52A1\u65E5\u5FD7",value:"logs"},{name:"\u4F9D\u8D56\u7BA1\u7406",value:"dependencies"},{name:"\u7CFB\u7EDF\u4FE1\u606F",value:"system"}],scopesMap:{crons:"\u5B9A\u65F6\u4EFB\u52A1",envs:"\u73AF\u5883\u53D8\u91CF",configs:"\u914D\u7F6E\u6587\u4EF6",scripts:"\u811A\u672C\u7BA1\u7406",logs:"\u4EFB\u52A1\u65E5\u5FD7",dependencies:"\u4F9D\u8D56\u7BA1\u7406",system:"\u7CFB\u7EDF\u4FE1\u606F"},notificationModes:[{value:"gotify",label:"Gotify"},{value:"goCqHttpBot",label:"GoCqHttpBot"},{value:"serverChan",label:"Server\u9171"},{value:"pushDeer",label:"PushDeer"},{value:"bark",label:"Bark"},{value:"telegramBot",label:"Telegram\u673A\u5668\u4EBA"},{value:"dingtalkBot",label:"\u9489\u9489\u673A\u5668\u4EBA"},{value:"weWorkBot",label:"\u4F01\u4E1A\u5FAE\u4FE1\u673A\u5668\u4EBA"},{value:"weWorkApp",label:"\u4F01\u4E1A\u5FAE\u4FE1\u5E94\u7528"},{value:"iGot",label:"IGot"},{value:"pushPlus",label:"PushPlus"},{value:"email",label:"\u90AE\u7BB1"},{value:"closed",label:"\u5DF2\u5173\u95ED"}],notificationModeMap:{gotify:[{label:"gotifyUrl",tip:"gotify\u7684url\u5730\u5740,\u4F8B\u5982 https://push.example.de:8080",required:!0},{label:"gotifyToken",tip:"gotify\u7684\u6D88\u606F\u5E94\u7528token\u7801",required:!0},{label:"gotifyPriority",tip:"\u63A8\u9001\u6D88\u606F\u7684\u4F18\u5148\u7EA7"}],goCqHttpBot:[{label:"goCqHttpBotUrl",tip:"\u63A8\u9001\u5230\u4E2A\u4EBAQQ: http://127.0.0.1/send_private_msg\uFF0C\u7FA4\uFF1Ahttp://127.0.0.1/send_group_msg",required:!0},{label:"goCqHttpBotToken",tip:"\u8BBF\u95EE\u5BC6\u94A5",required:!0},{label:"goCqHttpBotQq",tip:"\u5982\u679CGOBOT_URL\u8BBE\u7F6E /send_private_msg \u5219\u9700\u8981\u586B\u5165 user_id=\u4E2A\u4EBAQQ \u76F8\u53CD\u5982\u679C\u662F /send_group_msg \u5219\u9700\u8981\u586B\u5165 group_id=QQ\u7FA4",required:!0}],serverChan:[{label:"serverChanKey",tip:"Server\u9171SENDKEY",required:!0}],pushDeer:[{label:"pushDeerKey",tip:"PushDeer\u7684Key\uFF0Chttps://github.com/easychen/pushdeer",required:!0}],bark:[{label:"barkPush",tip:"Bark\u7684\u4FE1\u606FIP/\u8BBE\u5907\u7801\uFF0C\u4F8B\u5982\uFF1Ahttps://api.day.app/XXXXXXXX",required:!0},{label:"barkIcon",tip:"BARK\u63A8\u9001\u56FE\u6807,\u81EA\u5B9A\u4E49\u63A8\u9001\u56FE\u6807 (\u9700iOS15\u6216\u4EE5\u4E0A\u624D\u80FD\u663E\u793A)"},{label:"barkSound",tip:"BARK\u63A8\u9001\u94C3\u58F0,\u94C3\u58F0\u5217\u8868\u53BBAPP\u67E5\u770B\u590D\u5236\u586B\u5199"},{label:"barkGroup",tip:"BARK\u63A8\u9001\u6D88\u606F\u7684\u5206\u7EC4, \u9ED8\u8BA4\u4E3Aqinglong"}],telegramBot:[{label:"telegramBotToken",tip:"telegram\u673A\u5668\u4EBA\u7684token\uFF0C\u4F8B\u5982\uFF1A1077xxx4424:AAFjv0FcqxxxxxxgEMGfi22B4yh15R5uw",required:!0},{label:"telegramBotUserId",tip:"telegram\u7528\u6237\u7684id\uFF0C\u4F8B\u5982\uFF1A129xxx206",required:!0},{label:"telegramBotProxyHost",tip:"\u4EE3\u7406IP"},{label:"telegramBotProxyPort",tip:"\u4EE3\u7406\u7AEF\u53E3"},{label:"telegramBotProxyAuth",tip:"telegram\u4EE3\u7406\u914D\u7F6E\u8BA4\u8BC1\u53C2\u6570, \u7528\u6237\u540D\u4E0E\u5BC6\u7801\u7528\u82F1\u6587\u5192\u53F7\u8FDE\u63A5 user:password"},{label:"telegramBotApiHost",tip:"telegram api\u81EA\u5EFA\u7684\u53CD\u5411\u4EE3\u7406\u5730\u5740\uFF0C\u9ED8\u8BA4tg\u5B98\u65B9api"}],dingtalkBot:[{label:"dingtalkBotToken",tip:"\u9489\u9489\u673A\u5668\u4EBAwebhook token\uFF0C\u4F8B\u5982\uFF1A5a544165465465645d0f31dca676e7bd07415asdasd",required:!0},{label:"dingtalkBotSecret",tip:"\u5BC6\u94A5\uFF0C\u673A\u5668\u4EBA\u5B89\u5168\u8BBE\u7F6E\u9875\u9762\uFF0C\u52A0\u7B7E\u4E00\u680F\u4E0B\u9762\u663E\u793A\u7684SEC\u5F00\u5934\u7684\u5B57\u7B26\u4E32"}],weWorkBot:[{label:"weWorkBotKey",tip:"\u4F01\u4E1A\u5FAE\u4FE1\u673A\u5668\u4EBA\u7684 webhook(\u8BE6\u89C1\u6587\u6863 https://work.weixin.qq.com/api/doc/90000/90136/91770)\uFF0C\u4F8B\u5982\uFF1A693a91f6-7xxx-4bc4-97a0-0ec2sifa5aaa",required:!0}],weWorkApp:[{label:"weWorkAppKey",tip:"corpid,corpsecret,touser(\u6CE8:\u591A\u4E2A\u6210\u5458ID\u4F7F\u7528|\u9694\u5F00),agentid,\u6D88\u606F\u7C7B\u578B(\u9009\u586B,\u4E0D\u586B\u9ED8\u8BA4\u6587\u672C\u6D88\u606F\u7C7B\u578B) \u6CE8\u610F\u7528,\u53F7\u9694\u5F00(\u82F1\u6587\u8F93\u5165\u6CD5\u7684\u9017\u53F7)\uFF0C\u4F8B\u5982\uFF1Awwcfrs,B-76WERQ,qinglong,1000001,2COat",required:!0}],iGot:[{label:"iGotPushKey",tip:"iGot\u7684\u4FE1\u606F\u63A8\u9001key\uFF0C\u4F8B\u5982\uFF1Ahttps://push.hellyw.com/XXXXXXXX",required:!0}],pushPlus:[{label:"pushPlusToken",tip:"\u5FAE\u4FE1\u626B\u7801\u767B\u5F55\u540E\u4E00\u5BF9\u4E00\u63A8\u9001\u6216\u4E00\u5BF9\u591A\u63A8\u9001\u4E0B\u9762\u7684token(\u60A8\u7684Token)\uFF0C\u4E0D\u63D0\u4F9BPUSH_PLUS_USER\u5219\u9ED8\u8BA4\u4E3A\u4E00\u5BF9\u4E00\u63A8\u9001",required:!0},{label:"pushPlusUser",tip:"\u4E00\u5BF9\u591A\u63A8\u9001\u7684\u201C\u7FA4\u7EC4\u7F16\u7801\u201D\uFF08\u4E00\u5BF9\u591A\u63A8\u9001\u4E0B\u9762->\u60A8\u7684\u7FA4\u7EC4(\u5982\u65E0\u5219\u65B0\u5EFA)->\u7FA4\u7EC4\u7F16\u7801\uFF0C\u5982\u679C\u60A8\u662F\u521B\u5EFA\u7FA4\u7EC4\u4EBA\u3002\u4E5F\u9700\u70B9\u51FB\u201C\u67E5\u770B\u4E8C\u7EF4\u7801\u201D\u626B\u63CF\u7ED1\u5B9A\uFF0C\u5426\u5219\u4E0D\u80FD\u63A5\u53D7\u7FA4\u7EC4\u6D88\u606F\u63A8\u9001\uFF09"}],email:[{label:"emailService",tip:"\u90AE\u7BB1\u670D\u52A1\u540D\u79F0\uFF0C\u6BD4\u5982126\u3001163\u3001Gmail\u3001QQ\u7B49\uFF0C\u652F\u6301\u5217\u8868https://nodemailer.com/smtp/well-known/",required:!0},{label:"emailUser",tip:"\u90AE\u7BB1\u5730\u5740",required:!0},{label:"emailPass",tip:"\u90AE\u7BB1SMTP\u6388\u6743\u7801",required:!0}]},documentTitleMap:{"/login":"\u767B\u5F55","/initialization":"\u521D\u59CB\u5316","/cron":"\u5B9A\u65F6\u4EFB\u52A1","/env":"\u73AF\u5883\u53D8\u91CF","/config":"\u914D\u7F6E\u6587\u4EF6","/script":"\u811A\u672C\u7BA1\u7406","/diff":"\u5BF9\u6BD4\u5DE5\u5177","/log":"\u4EFB\u52A1\u65E5\u5FD7","/setting":"\u7CFB\u7EDF\u8BBE\u7F6E","/error":"\u9519\u8BEF\u65E5\u5FD7"},dependenceTypes:["nodejs","python3","linux"]}},63011:function(ce,A,e){"use strict";e.d(A,{E:function(){return ae}});function ae(M){var $=M*1e3,r=Math.floor($/(24*3600*1e3)),D=$%(24*3600*1e3),m=Math.floor(D/(3600*1e3)),h=D%(3600*1e3),B=Math.floor(h/(60*1e3)),S=h%(60*1e3),i=Math.round(S/1e3),_=i+"\u79D2";return B>0&&(_=B+"\u5206"+_),m>0&&(_=m+"\u5C0F\u65F6"+_),r>0&&(_=r+"\u5929"+_),_}},30827:function(ce,A,e){"use strict";e.d(A,{W:function(){return N}});var ae=e(30606),M=e(18158),$=e(52708),r=e(97037),D=e(22205),m=e.n(D),h=e(50659),B=e(58997),S=e(9399);r.ZP.config({duration:1.5});var i=Date.now(),_=function(d){if(d.response){var v=d.data?d.data.message||d.data:d.response.statusText,Z=d.response.status;[502,504].includes(Z)?S.m.push("/error"):Z===401?S.m.location.pathname!=="/login"&&(r.ZP.error("\u767B\u5F55\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"),localStorage.removeItem(B.Z.authKey),S.m.push("/login")):r.ZP.error(v)}else console.log(d.message);throw d},f=(0,h.l7)({timeout:6e4,params:{t:i},errorHandler:_}),u=["/api/user/login","/open/auth/token","/api/user/two-factor/login","/api/system","/api/user/init","/api/user/notification/init"];f.interceptors.request.use((P,d)=>{var v=localStorage.getItem(B.Z.authKey);if(v&&!u.includes(P)){var Z={Authorization:"Bearer ".concat(v)};return{url:P,options:(0,M.Z)((0,M.Z)({},d),{},{headers:Z})}}return{url:P,options:d}}),f.interceptors.response.use(function(){var P=(0,ae.Z)(m().mark(function d(v){var Z;return m().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,v.clone();case 2:return Z=y.sent,y.abrupt("return",v);case 4:case"end":return y.stop()}},d)}));return function(d){return P.apply(this,arguments)}}());var N=f},21630:function(ce,A,e){"use strict";e.d(A,{Z:function(){return ae},W:function(){return M}});function ae(){var $=navigator.userAgent.toLowerCase(),r=d=>d.test($),D=d=>($.match(d)||[]).toString().replace(/[^0-9|_.]/g,"").replace(/_/g,"."),m="unknow";r(/windows|win32|win64|wow32|wow64/g)?m="windows":r(/macintosh|macintel/g)?m="macos":r(/x11/g)?m="linux":r(/android|adr/g)?m="android":r(/ios|iphone|ipad|ipod|iwatch/g)&&(m="ios");var h="unknow";m==="windows"?r(/windows nt 5.0|windows 2000/g)?h="2000":r(/windows nt 5.1|windows xp/g)?h="xp":r(/windows nt 5.2|windows 2003/g)?h="2003":r(/windows nt 6.0|windows vista/g)?h="vista":r(/windows nt 6.1|windows 7/g)?h="7":r(/windows nt 6.2|windows 8/g)?h="8":r(/windows nt 6.3|windows 8.1/g)?h="8.1":r(/windows nt 10.0|windows 10/g)&&(h="10"):m==="macos"?h=D(/os x [\d._]+/g):m==="android"?h=D(/android [\d._]+/g):m==="ios"&&(h=D(/os [\d._]+/g));var B="unknow";m==="windows"||m==="macos"||m==="linux"?B="desktop":(m==="android"||m==="ios"||r(/mobile/g))&&(B="mobile");var S="unknow",i="unknow";r(/applewebkit/g)?(S="webkit",r(/edge/g)?i="edge":r(/opr/g)?i="opera":r(/chrome/g)?i="chrome":r(/safari/g)&&(i="safari")):r(/gecko/g)&&r(/firefox/g)?(S="gecko",i="firefox"):r(/presto/g)?(S="presto",i="opera"):r(/trident|compatible|msie/g)&&(S="trident",i="iexplore");var _="unknow";S==="webkit"?_=D(/applewebkit\/[\d._]+/g):S==="gecko"?_=D(/gecko\/[\d._]+/g):S==="presto"?_=D(/presto\/[\d._]+/g):S==="trident"&&(_=D(/trident\/[\d._]+/g));var f="unknow";i==="chrome"?f=D(/chrome\/[\d._]+/g):i==="safari"?f=D(/version\/[\d._]+/g):i==="firefox"?f=D(/firefox\/[\d._]+/g):i==="opera"?f=D(/opr\/[\d._]+/g):i==="iexplore"?f=D(/(msie [\d._]+)|(rv:[\d._]+)/g):i==="edge"&&(f=D(/edge\/[\d._]+/g));var u="none",N="unknow";r(/micromessenger/g)?(u="wechat",N=D(/micromessenger\/[\d._]+/g)):r(/qqbrowser/g)?(u="qq",N=D(/qqbrowser\/[\d._]+/g)):r(/ucbrowser/g)?(u="uc",N=D(/ucbrowser\/[\d._]+/g)):r(/qihu 360se/g)?u="360":r(/2345explorer/g)?(u="2345",N=D(/2345explorer\/[\d._]+/g)):r(/metasr/g)?u="sougou":r(/lbbrowser/g)?u="liebao":r(/maxthon/g)&&(u="maxthon",N=D(/maxthon\/[\d._]+/g));var P=Object.assign({engine:S,engineVs:_,platform:B,supporter:i,supporterVs:f,system:m,systemVs:h},u==="none"?{}:{shell:u,shellVs:N});return console.log(`%c
 .d88b.  d888888b d8b   db  d888b  db       .d88b.  d8b   db  d888b  
.8P  Y8.   \`88'   888o  88 88' Y8b 88      .8P  Y8. 888o  88 88' Y8b 
88    88    88    88V8o 88 88      88      88    88 88V8o 88 88      
88    88    88    88 V8o88 88  ooo 88      88    88 88 V8o88 88  ooo 
\`8P  d8'   .88.   88  V888 88. ~8~ 88booo. \`8b  d8' 88  V888 88. ~8~ 
 \`Y88'Y8 Y888888P VP   V8P  Y888P  Y88888P  \`Y88P'  VP   V8P  Y888P  
                                                                     
                                                                     
`,"color: blue;font-size: 14px;"),console.log(`%c\u5FD8\u5F62\u96E8\u7B20\u70DF\u84D1\uFF0C\u77E5\u5FC3\u7267\u5531\u6A35\u6B4C\u3002\u660E\u6708\u6E05\u98CE\u5171\u6211\uFF0C\u95F2\u4EBA\u4E09\u4E2A\uFF0C\u4ECE\u4ED6\u4ECA\u53E4\u6D88\u78E8\u3002
`,"color: yellow;font-size: 18px;"),console.log(`%c\u9752\u9F99\u8FD0\u884C\u73AF\u5883:

\u7CFB\u7EDF\uFF1A`.concat(P.system,"/").concat(P.systemVs,`
\u6D4F\u89C8\u5668\uFF1A`).concat(P.supporter,"/").concat(P.supporterVs,`
\u5185\u6838\uFF1A`).concat(P.engine,"/").concat(P.engineVs),"color: green;font-size: 14px;font-weight: bold;"),P}function M(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=$.extraHeight,D=$.id;typeof r=="undefined"&&(r=121);var m=null;D?m=document.getElementById(D)?document.getElementById(D).getElementsByClassName("ant-table-thead")[0]:null:m=document.querySelector(".ant-table-wrapper");var h=0;m&&(h=m.getBoundingClientRect().top);var B=document.body.clientHeight-h-r;return B}},51637:function(){},64121:function(){}}]);
