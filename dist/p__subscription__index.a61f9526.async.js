(self.webpackChunk=self.webpackChunk||[]).push([[4975],{73174:function(S,f,e){"use strict";e.d(f,{Z:function(){return o}});var m=e(19377),_=e(12924),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},a=E,i=e(1719),s=function(d,r){return _.createElement(i.Z,(0,m.Z)((0,m.Z)({},d),{},{ref:r,icon:a}))};s.displayName="ClockCircleOutlined";var o=_.forwardRef(s)},27478:function(S,f,e){"use strict";e.d(f,{Z:function(){return o}});var m=e(19377),_=e(12924),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},a=E,i=e(1719),s=function(d,r){return _.createElement(i.Z,(0,m.Z)((0,m.Z)({},d),{},{ref:r,icon:a}))};s.displayName="DeleteOutlined";var o=_.forwardRef(s)},11223:function(S,f,e){"use strict";e.d(f,{Z:function(){return o}});var m=e(19377),_=e(12924),E={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"}}]},name:"loading-3-quarters",theme:"outlined"},a=E,i=e(1719),s=function(d,r){return _.createElement(i.Z,(0,m.Z)((0,m.Z)({},d),{},{ref:r,icon:a}))};s.displayName="Loading3QuartersOutlined";var o=_.forwardRef(s)},50333:function(S,f,e){"use strict";e.d(f,{Z:function(){return o}});var m=e(19377),_=e(12924),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},a=E,i=e(1719),s=function(d,r){return _.createElement(i.Z,(0,m.Z)((0,m.Z)({},d),{},{ref:r,icon:a}))};s.displayName="StopOutlined";var o=_.forwardRef(s)},9259:function(S,f,e){"use strict";e.r(f),e.d(f,{SubscriptionStatus:function(){return w}});var m=e(35246),_=e(96578),E=e(52261),a=e(51541),i=e(74883),s=e(85728),o=e(67540),v=e(94147),d=e(18158),r=e(4224),p=e(40447),M=e(13621),O=e(13409),c=e(70307),B=e(80534),A=e(42853),je=e(25685),I=e(42068),Ge=e(87872),$=e(85529),Je=e(73862),L=e(22726),P=e(12924),l=e.n(P),q=e(73174),ee=e(11223),te=e(5003),ne=e(36531),ae=e(69731),le=e(50333),se=e(27478),ie=e(77062),x=e(58997),oe=e(85844),b=e(30827),re=e(94804),de=e(21630),ue=e(9399),R=L.Z.Text,ce=L.Z.Paragraph,_e=$.Z.Search,w;(function(D){D[D.running=0]="running",D[D.idle=1]="idle",D[D.disabled=2]="disabled",D[D.queued=3]="queued"})(w||(w={}));var ge=D=>{var me=D.headerStyle,Ee=D.isPhone,Xe=D.theme,ve=[{title:"\u8BA2\u9605\u540D",dataIndex:"name",key:"name",width:150,align:"center",sorter:{compare:(t,n)=>t.name.localeCompare(n.name),multiple:2}},{title:"\u8BA2\u9605",dataIndex:"command",key:"command",width:250,align:"center",render:(t,n)=>l().createElement(ce,{style:{wordBreak:"break-all",marginBottom:0,textAlign:"left"},ellipsis:{tooltip:t,rows:2}},t),sorter:{compare:(t,n)=>t.command.localeCompare(n.command),multiple:3}},{title:"\u8BA2\u9605\u5B9A\u65F6",dataIndex:"schedule",key:"schedule",width:110,align:"center",sorter:{compare:(t,n)=>t.schedule.localeCompare(n.schedule),multiple:1}},{title:"\u72B6\u6001",key:"status",dataIndex:"status",align:"center",width:85,filters:[{text:"\u8FD0\u884C\u4E2D",value:0},{text:"\u7A7A\u95F2\u4E2D",value:1},{text:"\u5DF2\u7981\u7528",value:2}],onFilter:(t,n)=>n.isDisabled&&n.status!==0?t===2:n.status===t,render:(t,n)=>l().createElement(l().Fragment,null,(!n.isDisabled||n.status!==w.idle)&&l().createElement(l().Fragment,null,n.status===w.idle&&l().createElement(I.Z,{icon:l().createElement(q.Z,null),color:"default"},"\u7A7A\u95F2\u4E2D"),n.status===w.running&&l().createElement(I.Z,{icon:l().createElement(ee.Z,{spin:!0}),color:"processing"},"\u8FD0\u884C\u4E2D")),n.isDisabled===1&&n.status===w.idle&&l().createElement(I.Z,{icon:l().createElement(te.Z,null),color:"error"},"\u5DF2\u7981\u7528"))},{title:"\u64CD\u4F5C",key:"action",align:"center",width:100,render:(t,n,u)=>l().createElement(A.Z,{size:"middle"},l().createElement(Fe,{key:"more",record:n,index:u}))}],fe=(0,P.useState)([]),W=(0,c.Z)(fe,2),Z=W[0],y=W[1],Oe=(0,P.useState)(!0),K=(0,c.Z)(Oe,2),U=K[0],F=K[1],Pe=(0,P.useState)(!1),V=(0,c.Z)(Pe,2),De=V[0],T=V[1],he=(0,P.useState)(),z=(0,c.Z)(he,2),pe=z[0],k=z[1],Ce=(0,P.useState)(""),H=(0,c.Z)(Ce,2),Y=H[0],Me=H[1],Be=(0,P.useState)(1),N=(0,c.Z)(Be,2),we=N[0],Q=N[1],Se=(0,P.useState)(20),j=(0,c.Z)(Se,2),Ae=j[0],G=j[1],Ze=(0,P.useState)(),J=(0,c.Z)(Ze,2),ye=J[0],Ie=J[1],xe=(0,P.useState)(""),X=(0,c.Z)(xe,2),be=X[0],Te=X[1],$e=t=>{var n=t.command.split(" ");if(n[0]==="task"){n[1].startsWith("/ql/data/scripts")&&(n[1]=n[1].replace("/ql/data/scripts/",""));var u=n[1].split("/"),g=(0,c.Z)(u,2),h=g[0],C=g[1];C||(C=h,h=""),ue.m.push("/script?p=".concat(h,"&s=").concat(C))}else n[1]==="repo"&&(location.href=n[2])},Le=()=>{F(!0),b.W.get("".concat(x.Z.apiPrefix,"subscriptions?searchValue=").concat(Y)).then(t=>{y(t.data),Q(1)}).finally(()=>F(!1))},Re=()=>{k(null),T(!0)},We=(t,n)=>{k(t),T(!0)},Ke=(t,n)=>{O.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:l().createElement(l().Fragment,null,"\u786E\u8BA4\u5220\u9664\u5B9A\u65F6\u8BA2\u9605"," ",l().createElement(R,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){b.W.delete("".concat(x.Z.apiPrefix,"subscriptions"),{data:[t.id]}).then(u=>{if(u.code===200){p.ZP.success("\u5220\u9664\u6210\u529F");var g=[...Z],h=g.findIndex(C=>C.id===t.id);g.splice(h,1),y(g)}else p.ZP.error(u)})},onCancel(){console.log("Cancel")}})},Ue=(t,n)=>{O.Z.confirm({title:"\u786E\u8BA4".concat(t.isDisabled===1?"\u542F\u7528":"\u7981\u7528"),content:l().createElement(l().Fragment,null,"\u786E\u8BA4",t.isDisabled===1?"\u542F\u7528":"\u7981\u7528","\u5B9A\u65F6\u8BA2\u9605"," ",l().createElement(R,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){b.W.put("".concat(x.Z.apiPrefix,"subscriptions/").concat(t.isDisabled===1?"enable":"disable"),{data:[t.id]}).then(u=>{if(u.code===200){var g=t.isDisabled===1?0:1,h=[...Z],C=h.findIndex(Qe=>Qe.id===t.id);h.splice(C,1,(0,d.Z)((0,d.Z)({},t),{},{isDisabled:g})),y(h)}else p.ZP.error(u)})},onCancel(){console.log("Cancel")}})},Fe=t=>{var n=t.record,u=t.index;return l().createElement(s.Z,{arrow:{pointAtCenter:!0},placement:"bottomRight",trigger:["click"],overlay:l().createElement(v.Z,{onClick:g=>{var h=g.key,C=g.domEvent;C.stopPropagation(),Ve(h,n,u)}},l().createElement(v.Z.Item,{key:"edit",icon:l().createElement(ne.Z,null)},"\u7F16\u8F91"),l().createElement(v.Z.Item,{key:"enableOrDisable",icon:n.isDisabled===1?l().createElement(ae.Z,null):l().createElement(le.Z,null)},n.isDisabled===1?"\u542F\u7528":"\u7981\u7528"),l().createElement(v.Z.Item,{key:"delete",icon:l().createElement(se.Z,null)},"\u5220\u9664"))},l().createElement("a",{onClick:g=>g.stopPropagation()},l().createElement(ie.Z,null)))},Ve=(t,n,u)=>{switch(t){case"edit":We(n,u);break;case"enableOrDisable":Ue(n,u);break;case"delete":Ke(n,u);break;default:break}},ze=t=>{T(!1),t&&He(t)},ke=t=>{Me(t.trim())},He=t=>{var n=Z.findIndex(g=>g.id===t.id),u=[...Z];n===-1?u.unshift(t):u.splice(n,1,(0,d.Z)({},t)),y(u)},Ye=(t,n)=>{Q(t),G(n),localStorage.setItem("pageSize",n+"")},Ne=(t,n)=>t.isPinned?"pinned-subscription subscription":"subscription";return(0,P.useEffect)(()=>{Le()},[Y]),(0,P.useEffect)(()=>{G(parseInt(localStorage.getItem("pageSize")||"20")),setTimeout(()=>{Ie((0,de.W)())})},[]),l().createElement(oe.ZP,{className:"ql-container-wrapper subscriptiontab-wrapper",title:"\u8BA2\u9605\u7BA1\u7406",extra:[l().createElement(_e,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0\u6216\u8005\u5173\u952E\u8BCD",style:{width:"auto"},enterButton:!0,allowClear:!0,loading:U,value:be,onChange:t=>Te(t.target.value),onSearch:ke}),l().createElement(a.Z,{key:"2",type:"primary",onClick:()=>Re()},"\u65B0\u5EFA\u8BA2\u9605")],header:{style:me}},l().createElement(_.Z,{columns:ve,pagination:{current:we,onChange:Ye,pageSize:Ae,showSizeChanger:!0,simple:Ee,defaultPageSize:20,showTotal:(t,n)=>"\u7B2C ".concat(n[0],"-").concat(n[1]," \u6761/\u603B\u5171 ").concat(t," \u6761"),pageSizeOptions:[20,100,500,1e3]},dataSource:Z,rowKey:"id",size:"middle",scroll:{x:1e3,y:ye},loading:U,rowClassName:Ne}),l().createElement(re.default,{visible:De,handleCancel:ze,subscription:pe}))};f.default=ge},21630:function(S,f,e){"use strict";e.d(f,{Z:function(){return m},W:function(){return _}});function m(){var E=navigator.userAgent.toLowerCase(),a=A=>A.test(E),i=A=>(E.match(A)||[]).toString().replace(/[^0-9|_.]/g,"").replace(/_/g,"."),s="unknow";a(/windows|win32|win64|wow32|wow64/g)?s="windows":a(/macintosh|macintel/g)?s="macos":a(/x11/g)?s="linux":a(/android|adr/g)?s="android":a(/ios|iphone|ipad|ipod|iwatch/g)&&(s="ios");var o="unknow";s==="windows"?a(/windows nt 5.0|windows 2000/g)?o="2000":a(/windows nt 5.1|windows xp/g)?o="xp":a(/windows nt 5.2|windows 2003/g)?o="2003":a(/windows nt 6.0|windows vista/g)?o="vista":a(/windows nt 6.1|windows 7/g)?o="7":a(/windows nt 6.2|windows 8/g)?o="8":a(/windows nt 6.3|windows 8.1/g)?o="8.1":a(/windows nt 10.0|windows 10/g)&&(o="10"):s==="macos"?o=i(/os x [\d._]+/g):s==="android"?o=i(/android [\d._]+/g):s==="ios"&&(o=i(/os [\d._]+/g));var v="unknow";s==="windows"||s==="macos"||s==="linux"?v="desktop":(s==="android"||s==="ios"||a(/mobile/g))&&(v="mobile");var d="unknow",r="unknow";a(/applewebkit/g)?(d="webkit",a(/edge/g)?r="edge":a(/opr/g)?r="opera":a(/chrome/g)?r="chrome":a(/safari/g)&&(r="safari")):a(/gecko/g)&&a(/firefox/g)?(d="gecko",r="firefox"):a(/presto/g)?(d="presto",r="opera"):a(/trident|compatible|msie/g)&&(d="trident",r="iexplore");var p="unknow";d==="webkit"?p=i(/applewebkit\/[\d._]+/g):d==="gecko"?p=i(/gecko\/[\d._]+/g):d==="presto"?p=i(/presto\/[\d._]+/g):d==="trident"&&(p=i(/trident\/[\d._]+/g));var M="unknow";r==="chrome"?M=i(/chrome\/[\d._]+/g):r==="safari"?M=i(/version\/[\d._]+/g):r==="firefox"?M=i(/firefox\/[\d._]+/g):r==="opera"?M=i(/opr\/[\d._]+/g):r==="iexplore"?M=i(/(msie [\d._]+)|(rv:[\d._]+)/g):r==="edge"&&(M=i(/edge\/[\d._]+/g));var O="none",c="unknow";a(/micromessenger/g)?(O="wechat",c=i(/micromessenger\/[\d._]+/g)):a(/qqbrowser/g)?(O="qq",c=i(/qqbrowser\/[\d._]+/g)):a(/ucbrowser/g)?(O="uc",c=i(/ucbrowser\/[\d._]+/g)):a(/qihu 360se/g)?O="360":a(/2345explorer/g)?(O="2345",c=i(/2345explorer\/[\d._]+/g)):a(/metasr/g)?O="sougou":a(/lbbrowser/g)?O="liebao":a(/maxthon/g)&&(O="maxthon",c=i(/maxthon\/[\d._]+/g));var B=Object.assign({engine:d,engineVs:p,platform:v,supporter:r,supporterVs:M,system:s,systemVs:o},O==="none"?{}:{shell:O,shellVs:c});return console.log(`%c
 .d88b.  d888888b d8b   db  d888b  db       .d88b.  d8b   db  d888b  
.8P  Y8.   \`88'   888o  88 88' Y8b 88      .8P  Y8. 888o  88 88' Y8b 
88    88    88    88V8o 88 88      88      88    88 88V8o 88 88      
88    88    88    88 V8o88 88  ooo 88      88    88 88 V8o88 88  ooo 
\`8P  d8'   .88.   88  V888 88. ~8~ 88booo. \`8b  d8' 88  V888 88. ~8~ 
 \`Y88'Y8 Y888888P VP   V8P  Y888P  Y88888P  \`Y88P'  VP   V8P  Y888P  
                                                                     
                                                                     
`,"color: blue;font-size: 14px;"),console.log(`%c\u5FD8\u5F62\u96E8\u7B20\u70DF\u84D1\uFF0C\u77E5\u5FC3\u7267\u5531\u6A35\u6B4C\u3002\u660E\u6708\u6E05\u98CE\u5171\u6211\uFF0C\u95F2\u4EBA\u4E09\u4E2A\uFF0C\u4ECE\u4ED6\u4ECA\u53E4\u6D88\u78E8\u3002
`,"color: yellow;font-size: 18px;"),console.log(`%c\u9752\u9F99\u8FD0\u884C\u73AF\u5883:

\u7CFB\u7EDF\uFF1A`.concat(B.system,"/").concat(B.systemVs,`
\u6D4F\u89C8\u5668\uFF1A`).concat(B.supporter,"/").concat(B.supporterVs,`
\u5185\u6838\uFF1A`).concat(B.engine,"/").concat(B.engineVs),"color: green;font-size: 14px;font-weight: bold;"),B}function _(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=E.extraHeight,i=E.id;typeof a=="undefined"&&(a=121);var s=null;i?s=document.getElementById(i)?document.getElementById(i).getElementsByClassName("ant-table-thead")[0]:null:s=document.querySelector(".ant-table-wrapper");var o=0;s&&(o=s.getBoundingClientRect().top);var v=document.body.clientHeight-o-a;return v}}}]);
